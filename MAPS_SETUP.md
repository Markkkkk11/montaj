# Интеграция с Яндекс.Картами

## Получение API-ключа

1. Перейдите на https://developer.tech.yandex.ru/services/
2. Зарегистрируйтесь или войдите в аккаунт
3. Создайте новый API-ключ для JavaScript API и HTTP Геокодер
4. Скопируйте полученный ключ

## Настройка

### Frontend

Откройте файл `frontend/src/components/orders/OrderMap.tsx` и замените `YOUR_API_KEY` на ваш API-ключ:

```typescript
script.src = 'https://api-maps.yandex.ru/2.1/?apikey=ВАШ_API_КЛЮЧ&lang=ru_RU';
```

### Backend (Геокодирование)

Для автоматического определения координат по адресу создайте переменную окружения:

```env
YANDEX_GEOCODER_API_KEY=ваш_api_ключ
```

## Функции

### Отображение заказов на карте

- Заказы отображаются метками на карте
- Клик по метке открывает balloon с информацией о заказе
- Автоматическое масштабирование карты под все метки

### Геокодирование адресов

При создании заказа система может автоматически определять координаты по указанному адресу (требует настройки).

## Использование

### Просмотр карты заказов

1. Перейдите в `/orders/map`
2. Используйте фильтры для выбора категории и региона
3. Переключайтесь между картой и списком

### В списке заказов

В разделе `/orders` добавлена кнопка "Карта" для переключения между видами отображения.

## Дополнительная информация

- [Документация Яндекс.Карт](https://yandex.ru/dev/maps/jsapi/doc/)
- [API геокодера](https://yandex.ru/dev/maps/geocoder/)
- [Примеры использования](https://yandex.ru/dev/maps/jsapi/doc/2.1/examples/)

## Ограничения бесплатного тарифа

- 25,000 запросов в сутки для JavaScript API
- 1,000 запросов в сутки для геокодера

Для коммерческого использования рекомендуется ознакомиться с тарифами на сайте Яндекса.

